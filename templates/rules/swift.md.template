---
globs: ios/**/*.swift, Sources/**/*.swift
---
# Swift/iOS Rules â€” {{PROJECT_NAME}}

- SwiftUI with iOS 16.0+ target
- Handle loading, error, and empty states explicitly in every view
- Add accessibility identifiers for all interactive elements
- HealthKit: `.appleStandTime` (not `.appleStandHour`) returns minutes
- HealthKit: Apple Watch required for VO2 max, respiratory rate, sleep stages
- HealthKit: always handle `nil` gracefully
- HomeKit: use string constants like `HMCharacteristicPropertyReadable`
- HomeKit: does NOT work in Simulator
- Mac Catalyst: use `#if targetEnvironment(macCatalyst)` for Mac-specific code
- Test with: `make ios-test-changed` or `make ios-build`

<!-- Add project-specific Swift rules below -->
